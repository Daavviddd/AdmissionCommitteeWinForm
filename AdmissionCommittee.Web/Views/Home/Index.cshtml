@using AdmissionCommittee.Models
@model AdmissionCommittee.Web.Models.StudentIndexViewModel
@{
	ViewData["Title"] = "Студенты";
}

<div class="container-fluid py-4">
	<div class="row">
		<div class="col-12">
			<div class="d-flex justify-content-between align-items-center mb-4">
				<h2 class="h3 mb-0">Справочник студентов</h2>
				<div class="btn-group">
					<a asp-action="Index" class="btn btn-outline-secondary">
						Обновить
					</a>
					<a asp-action="Create" class="btn btn-primary">
						Добавить студента
					</a>
				</div>
			</div>

			<div class="row mb-4">
				<div class="col-md-4">
					<div class="card bg-primary text-white">
						<div class="card-body">
							<h5 class="card-title">@Model.Statistics.TotalCount</h5>
							<p class="card-text">Всего студентов</p>
						</div>
					</div>
				</div>
				<div class="col-md-4">
					<div class="card bg-success text-white">
						<div class="card-body">
							<h5 class="card-title">@Model.Statistics.PassedCount</h5>
							<p class="card-text">Прошли по баллам</p>
						</div>
					</div>
				</div>
				<div class="col-md-4">
					<div class="card bg-danger text-white">
						<div class="card-body">
							<h5 class="card-title">@Model.Statistics.NotPassedCount</h5>
							<p class="card-text">Не прошли</p>
						</div>
					</div>
				</div>
			</div>

			<div class="card">
				<div class="card-body p-0">
					<div class="table-responsive">
						<table class="table table-hover mb-0">
							<thead class="table-light">
								<tr>
									<th>ФИО</th>
									<th>Пол</th>
									<th>Дата рождения</th>
									<th>Форма обучения</th>
									<th>Математика</th>
									<th>Русский</th>
									<th>Информатика</th>
									<th>Итого</th>
									<th>Действия</th>
								</tr>
							</thead>
							<tbody>
								@foreach (var item in Model.Students)
								{
								 <tr>
									<td>@item.FullName</td>
									<td>
										@switch (item.Gender)
										{
										case Gender.Male:
											<span>Мужской</span>
											break;
										case Gender.Female:
											<span>Женский</span>
											break;
										default:
											<span>-</span>
											break;
										}
											</td>
												<td>@item.Birthday.ToString("dd.MM.yyyy")</td>
											<td>
										@{
											var formText = item.EducationalForm switch
											{
												EducationalForm.FullTime => "Очная",
												EducationalForm.FullTimeAndPartTime => "Очно-заочная",
												EducationalForm.CorrespondenceEducation => "Заочная"
											};
										}
										@formText
									</td>
									<td>@item.MathScores</td>
									<td>@item.PointsInRussianLanguage</td>
									<td>@item.ComputerScienceScores</td>
									<td>@item.TotalAmountOfPoints</td>
									<td>
										<div class="btn-group btn-group-sm">
											<a asp-action="Edit" asp-route-id="@item.Id" class="btn btn-outline-primary">Изменить</a>
											<a asp-action="Delete" asp-route-id="@item.Id" class="btn btn-outline-danger">Удалить</a>
										</div>
									</td>
								</tr>
								}
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>